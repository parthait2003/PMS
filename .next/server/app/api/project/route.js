"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/project/route";
exports.ids = ["app/api/project/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproject%2Froute&page=%2Fapi%2Fproject%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproject%2Froute.tsx&appDir=%2FUsers%2Fparthasarkar%2FTaskManager_last%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fparthasarkar%2FTaskManager_last&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproject%2Froute&page=%2Fapi%2Fproject%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproject%2Froute.tsx&appDir=%2FUsers%2Fparthasarkar%2FTaskManager_last%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fparthasarkar%2FTaskManager_last&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_parthasarkar_TaskManager_last_app_api_project_route_tsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/project/route.tsx */ \"(rsc)/./app/api/project/route.tsx\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/project/route\",\n        pathname: \"/api/project\",\n        filename: \"route\",\n        bundlePath: \"app/api/project/route\"\n    },\n    resolvedPagePath: \"/Users/parthasarkar/TaskManager_last/app/api/project/route.tsx\",\n    nextConfigOutput,\n    userland: _Users_parthasarkar_TaskManager_last_app_api_project_route_tsx__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/project/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwcm9qZWN0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZwcm9qZWN0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcHJvamVjdCUyRnJvdXRlLnRzeCZhcHBEaXI9JTJGVXNlcnMlMkZwYXJ0aGFzYXJrYXIlMkZUYXNrTWFuYWdlcl9sYXN0JTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnBhcnRoYXNhcmthciUyRlRhc2tNYW5hZ2VyX2xhc3QmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDYztBQUMzRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZyaXN0by1uZXh0Lz9hNmQzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9wYXJ0aGFzYXJrYXIvVGFza01hbmFnZXJfbGFzdC9hcHAvYXBpL3Byb2plY3Qvcm91dGUudHN4XCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wcm9qZWN0L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcHJvamVjdFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcHJvamVjdC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9wYXJ0aGFzYXJrYXIvVGFza01hbmFnZXJfbGFzdC9hcHAvYXBpL3Byb2plY3Qvcm91dGUudHN4XCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3Byb2plY3Qvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproject%2Froute&page=%2Fapi%2Fproject%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproject%2Froute.tsx&appDir=%2FUsers%2Fparthasarkar%2FTaskManager_last%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fparthasarkar%2FTaskManager_last&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/project/route.tsx":
/*!***********************************!*\
  !*** ./app/api/project/route.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PATCH: () => (/* binding */ PATCH),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var _models_Project__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/models/Project */ \"(rsc)/./models/Project.js\");\n/* harmony import */ var _models_projectTask__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/models/projectTask */ \"(rsc)/./models/projectTask.js\");\n/* harmony import */ var _models_taskMessage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/models/taskMessage */ \"(rsc)/./models/taskMessage.js\");\n/* harmony import */ var _config_database__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/config/database */ \"(rsc)/./config/database.js\");\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\n// Utility to generate an 8-digit random number as string\nfunction generate8DigitId() {\n    return Math.floor(10000000 + Math.random() * 90000000).toString();\n}\n// GET all projects\nasync function GET() {\n    try {\n        await (0,_config_database__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n        const projects = await _models_Project__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find();\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_4__[\"default\"].json({\n            success: true,\n            data: projects\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_4__[\"default\"].json({\n            success: false,\n            error: \"Failed to fetch projects\"\n        }, {\n            status: 500\n        });\n    }\n}\n// POST a new project and insert projectTask + taskMessage entries\nasync function POST(req) {\n    try {\n        await (0,_config_database__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n        const body = await req.json();\n        const { tasks, ...projectData } = body;\n        // First create the project with empty tasks array\n        const newProject = await _models_Project__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n            ...projectData,\n            tasks: []\n        });\n        // Process tasks if they exist\n        if (Array.isArray(tasks) && tasks.length > 0) {\n            const projectTasks = [];\n            for (const task of tasks){\n                // Generate a single MongoDB ObjectId to use across all related documents\n                const taskObjectId = new (mongoose__WEBPACK_IMPORTED_MODULE_5___default().Types).ObjectId();\n                const stringId = generate8DigitId();\n                // Create the task object for embedding in Project\n                const formattedTask = {\n                    _id: taskObjectId,\n                    title: task.title || \"\",\n                    stage: task.stage || \"Not Started\",\n                    status: task.status || \"current\",\n                    details: task.details || \"\",\n                    startDate: task.startDate || new Date().toLocaleDateString(),\n                    dueDate: task.dueDate || new Date().toLocaleDateString(),\n                    stringId: stringId\n                };\n                // Add to the array of tasks to be saved in the Project\n                projectTasks.push(formattedTask);\n                // Create a separate projectTask document with the same ObjectId\n                // IMPORTANT: Use insertMany with _id explicitly set instead of create()\n                await _models_projectTask__WEBPACK_IMPORTED_MODULE_1__[\"default\"].insertMany([\n                    {\n                        _id: taskObjectId,\n                        title: formattedTask.title,\n                        stage: formattedTask.stage,\n                        status: formattedTask.status,\n                        details: formattedTask.details,\n                        startDate: formattedTask.startDate,\n                        dueDate: formattedTask.dueDate,\n                        projectId: newProject._id,\n                        stringId: stringId\n                    }\n                ]);\n                console.log(\"Inserted projectTask _id:\", taskObjectId.toString());\n                // Create a message document linked to the task - also use insertMany\n                await _models_taskMessage__WEBPACK_IMPORTED_MODULE_2__[\"default\"].insertMany([\n                    {\n                        projectId: newProject._id,\n                        taskId: taskObjectId,\n                        assigneeId: projectData.assignees?.[0]?.id || \"\",\n                        senderId: projectData.assignedBy || \"\",\n                        message: \"\",\n                        files: []\n                    }\n                ]);\n                console.log(\"Inserted taskMessage.taskId:\", taskObjectId.toString());\n                // Optional verification\n                const savedTask = await _models_projectTask__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findById(taskObjectId);\n                const savedMessage = await _models_taskMessage__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n                    taskId: taskObjectId\n                });\n                if (savedTask && savedMessage) {\n                    console.log(\"Verification successful:\");\n                    console.log(\"Task _id:\", savedTask._id.toString());\n                    console.log(\"Message taskId:\", savedMessage.taskId.toString());\n                    // Ensure they match\n                    if (savedTask._id.toString() !== savedMessage.taskId.toString()) {\n                        console.error(\"ERROR: IDs still don't match!\");\n                    } else {\n                        console.log(\"SUCCESS: IDs match correctly!\");\n                    }\n                } else {\n                    console.error(\"Verification failed - documents not found\");\n                }\n            }\n            // Update the project with the tasks array\n            await _models_Project__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByIdAndUpdate(newProject._id, {\n                tasks: projectTasks\n            });\n            // Refresh the project data\n            const updatedProject = await _models_Project__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(newProject._id);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_4__[\"default\"].json({\n                success: true,\n                data: updatedProject\n            }, {\n                status: 201\n            });\n        } else {\n            // If no tasks, just return the created project\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_4__[\"default\"].json({\n                success: true,\n                data: newProject\n            }, {\n                status: 201\n            });\n        }\n    } catch (error) {\n        console.error(\"Error creating project:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_4__[\"default\"].json({\n            success: false,\n            error: \"Failed to create project with tasks and messages\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n// PATCH: update a task in project and related collections\nasync function PATCH(req) {\n    try {\n        await (0,_config_database__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n        const body = await req.json();\n        const { taskId, updates } = body;\n        if (!taskId || !updates) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_4__[\"default\"].json({\n                success: false,\n                error: \"Missing taskId or updates\"\n            }, {\n                status: 400\n            });\n        }\n        // 1. Update in projectTask collection\n        await _models_projectTask__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndUpdate(taskId, updates);\n        // 2. Update embedded task in Project.tasks\n        await _models_Project__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n            \"tasks._id\": taskId\n        }, {\n            $set: Object.fromEntries(Object.entries(updates).map(([key, value])=>[\n                    `tasks.$.${key}`,\n                    value\n                ]))\n        });\n        // 3. (Optional) Update taskMessage if fields like assigneeId or message are included\n        if (updates.assigneeId || updates.message) {\n            await _models_taskMessage__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n                taskId\n            }, {\n                $set: {\n                    ...updates.assigneeId && {\n                        assigneeId: updates.assigneeId\n                    },\n                    ...updates.message && {\n                        message: updates.message\n                    }\n                }\n            });\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_4__[\"default\"].json({\n            success: true,\n            message: \"Task updated successfully\"\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error updating task:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_4__[\"default\"].json({\n            success: false,\n            error: \"Failed to update task\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n// PUT: Add a new task to a specific project\nasync function PUT(req) {\n    try {\n        await (0,_config_database__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n        const body = await req.json();\n        const { projectId, task } = body;\n        if (!projectId || !task) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_4__[\"default\"].json({\n                success: false,\n                error: \"Missing projectId or task\"\n            }, {\n                status: 400\n            });\n        }\n        const taskObjectId = new (mongoose__WEBPACK_IMPORTED_MODULE_5___default().Types).ObjectId();\n        const stringId = generate8DigitId();\n        const formattedTask = {\n            _id: taskObjectId,\n            title: task.title || \"\",\n            stage: task.stage || \"Not Started\",\n            status: task.status || \"current\",\n            details: task.details || \"\",\n            startDate: task.startDate || new Date().toLocaleDateString(),\n            dueDate: task.dueDate || new Date().toLocaleDateString(),\n            stringId: stringId\n        };\n        // 1. Insert into projectTask collection\n        await _models_projectTask__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({\n            ...formattedTask,\n            projectId\n        });\n        // 2. Add to Project's embedded tasks array\n        await _models_Project__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByIdAndUpdate(projectId, {\n            $push: {\n                tasks: formattedTask\n            }\n        });\n        // 3. Add taskMessage entry\n        const project = await _models_Project__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findById(projectId);\n        const assigneeId = project?.assignees?.[0]?.id || \"\";\n        const senderId = project?.assignedBy || \"\";\n        await _models_taskMessage__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create({\n            projectId,\n            taskId: taskObjectId,\n            assigneeId,\n            senderId,\n            message: \"\",\n            files: []\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_4__[\"default\"].json({\n            success: true,\n            message: \"Task added successfully\",\n            taskId: taskObjectId\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error adding task:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_4__[\"default\"].json({\n            success: false,\n            error: \"Failed to add task\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n// DELETE: Remove a task from projectTask, Project.tasks, and taskMessage\nasync function DELETE(req) {\n    try {\n        await (0,_config_database__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n        const { taskId, projectId } = await req.json();\n        if (!taskId || !projectId) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_4__[\"default\"].json({\n                success: false,\n                error: \"Missing taskId or projectId\"\n            }, {\n                status: 400\n            });\n        }\n        // 1. Remove task from projectTask collection\n        await _models_projectTask__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findByIdAndDelete(taskId);\n        // 2. Remove task from embedded tasks array in Project\n        await _models_Project__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByIdAndUpdate(projectId, {\n            $pull: {\n                tasks: {\n                    _id: new (mongoose__WEBPACK_IMPORTED_MODULE_5___default().Types).ObjectId(taskId)\n                }\n            }\n        });\n        // 3. Remove associated task messages\n        await _models_taskMessage__WEBPACK_IMPORTED_MODULE_2__[\"default\"].deleteMany({\n            taskId\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_4__[\"default\"].json({\n            success: true,\n            message: \"Task deleted successfully\"\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error deleting task:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_4__[\"default\"].json({\n            success: false,\n            error: \"Failed to delete task\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3Byb2plY3Qvcm91dGUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUF1QztBQUNRO0FBQ0E7QUFDQTtBQUNKO0FBQ1g7QUFFaEMseURBQXlEO0FBQ3pELFNBQVNNO0lBQ1AsT0FBT0MsS0FBS0MsS0FBSyxDQUFDLFdBQVdELEtBQUtFLE1BQU0sS0FBSyxVQUFVQyxRQUFRO0FBQ2pFO0FBRUEsbUJBQW1CO0FBQ1osZUFBZUM7SUFDcEIsSUFBSTtRQUNGLE1BQU1SLDREQUFjQTtRQUNwQixNQUFNUyxXQUFXLE1BQU1aLHVEQUFPQSxDQUFDYSxJQUFJO1FBQ25DLE9BQU9ULGtGQUFZQSxDQUFDVSxJQUFJLENBQ3RCO1lBQUVDLFNBQVM7WUFBTUMsTUFBTUo7UUFBUyxHQUNoQztZQUFFSyxRQUFRO1FBQUk7SUFFbEIsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQ0E7UUFDZCxPQUFPZCxrRkFBWUEsQ0FBQ1UsSUFBSSxDQUN0QjtZQUFFQyxTQUFTO1lBQU9HLE9BQU87UUFBMkIsR0FDcEQ7WUFBRUQsUUFBUTtRQUFJO0lBRWxCO0FBQ0Y7QUFFQSxrRUFBa0U7QUFDM0QsZUFBZUcsS0FBS0MsR0FBWTtJQUNyQyxJQUFJO1FBQ0YsTUFBTWxCLDREQUFjQTtRQUNwQixNQUFNbUIsT0FBTyxNQUFNRCxJQUFJUCxJQUFJO1FBQzNCLE1BQU0sRUFBRVMsS0FBSyxFQUFFLEdBQUdDLGFBQWEsR0FBR0Y7UUFFbEMsa0RBQWtEO1FBQ2xELE1BQU1HLGFBQWEsTUFBTXpCLHVEQUFPQSxDQUFDMEIsTUFBTSxDQUFDO1lBQ3RDLEdBQUdGLFdBQVc7WUFDZEQsT0FBTyxFQUFFO1FBQ1g7UUFFQSw4QkFBOEI7UUFDOUIsSUFBSUksTUFBTUMsT0FBTyxDQUFDTCxVQUFVQSxNQUFNTSxNQUFNLEdBQUcsR0FBRztZQUM1QyxNQUFNQyxlQUFlLEVBQUU7WUFFdkIsS0FBSyxNQUFNQyxRQUFRUixNQUFPO2dCQUN4Qix5RUFBeUU7Z0JBQ3pFLE1BQU1TLGVBQWUsSUFBSTNCLHVEQUFjLENBQUM2QixRQUFRO2dCQUNoRCxNQUFNQyxXQUFXN0I7Z0JBRWpCLGtEQUFrRDtnQkFDbEQsTUFBTThCLGdCQUFnQjtvQkFDcEJDLEtBQUtMO29CQUNMTSxPQUFPUCxLQUFLTyxLQUFLLElBQUk7b0JBQ3JCQyxPQUFPUixLQUFLUSxLQUFLLElBQUk7b0JBQ3JCdEIsUUFBUWMsS0FBS2QsTUFBTSxJQUFJO29CQUN2QnVCLFNBQVNULEtBQUtTLE9BQU8sSUFBSTtvQkFDekJDLFdBQVdWLEtBQUtVLFNBQVMsSUFBSSxJQUFJQyxPQUFPQyxrQkFBa0I7b0JBQzFEQyxTQUFTYixLQUFLYSxPQUFPLElBQUksSUFBSUYsT0FBT0Msa0JBQWtCO29CQUN0RFIsVUFBVUE7Z0JBQ1o7Z0JBRUEsdURBQXVEO2dCQUN2REwsYUFBYWUsSUFBSSxDQUFDVDtnQkFFbEIsZ0VBQWdFO2dCQUNoRSx3RUFBd0U7Z0JBQ3hFLE1BQU1uQywyREFBV0EsQ0FBQzZDLFVBQVUsQ0FBQztvQkFDM0I7d0JBQ0VULEtBQUtMO3dCQUNMTSxPQUFPRixjQUFjRSxLQUFLO3dCQUMxQkMsT0FBT0gsY0FBY0csS0FBSzt3QkFDMUJ0QixRQUFRbUIsY0FBY25CLE1BQU07d0JBQzVCdUIsU0FBU0osY0FBY0ksT0FBTzt3QkFDOUJDLFdBQVdMLGNBQWNLLFNBQVM7d0JBQ2xDRyxTQUFTUixjQUFjUSxPQUFPO3dCQUM5QkcsV0FBV3RCLFdBQVdZLEdBQUc7d0JBQ3pCRixVQUFVQTtvQkFDWjtpQkFDRDtnQkFFRGhCLFFBQVE2QixHQUFHLENBQUMsNkJBQTZCaEIsYUFBYXRCLFFBQVE7Z0JBRTlELHFFQUFxRTtnQkFDckUsTUFBTVIsMkRBQVdBLENBQUM0QyxVQUFVLENBQUM7b0JBQzNCO3dCQUNFQyxXQUFXdEIsV0FBV1ksR0FBRzt3QkFDekJZLFFBQVFqQjt3QkFDUmtCLFlBQVkxQixZQUFZMkIsU0FBUyxFQUFFLENBQUMsRUFBRSxFQUFFQyxNQUFNO3dCQUM5Q0MsVUFBVTdCLFlBQVk4QixVQUFVLElBQUk7d0JBQ3BDQyxTQUFTO3dCQUNUQyxPQUFPLEVBQUU7b0JBQ1g7aUJBQ0Q7Z0JBRURyQyxRQUFRNkIsR0FBRyxDQUFDLGdDQUFnQ2hCLGFBQWF0QixRQUFRO2dCQUVqRSx3QkFBd0I7Z0JBQ3hCLE1BQU0rQyxZQUFZLE1BQU14RCwyREFBV0EsQ0FBQ3lELFFBQVEsQ0FBQzFCO2dCQUM3QyxNQUFNMkIsZUFBZSxNQUFNekQsMkRBQVdBLENBQUMwRCxPQUFPLENBQUM7b0JBQzdDWCxRQUFRakI7Z0JBQ1Y7Z0JBRUEsSUFBSXlCLGFBQWFFLGNBQWM7b0JBQzdCeEMsUUFBUTZCLEdBQUcsQ0FBQztvQkFDWjdCLFFBQVE2QixHQUFHLENBQUMsYUFBYVMsVUFBVXBCLEdBQUcsQ0FBQzNCLFFBQVE7b0JBQy9DUyxRQUFRNkIsR0FBRyxDQUFDLG1CQUFtQlcsYUFBYVYsTUFBTSxDQUFDdkMsUUFBUTtvQkFFM0Qsb0JBQW9CO29CQUNwQixJQUFJK0MsVUFBVXBCLEdBQUcsQ0FBQzNCLFFBQVEsT0FBT2lELGFBQWFWLE1BQU0sQ0FBQ3ZDLFFBQVEsSUFBSTt3QkFDL0RTLFFBQVFELEtBQUssQ0FBQztvQkFDaEIsT0FBTzt3QkFDTEMsUUFBUTZCLEdBQUcsQ0FBQztvQkFDZDtnQkFDRixPQUFPO29CQUNMN0IsUUFBUUQsS0FBSyxDQUFDO2dCQUNoQjtZQUNGO1lBRUEsMENBQTBDO1lBQzFDLE1BQU1sQix1REFBT0EsQ0FBQzZELGlCQUFpQixDQUFDcEMsV0FBV1ksR0FBRyxFQUFFO2dCQUFFZCxPQUFPTztZQUFhO1lBRXRFLDJCQUEyQjtZQUMzQixNQUFNZ0MsaUJBQWlCLE1BQU05RCx1REFBT0EsQ0FBQzBELFFBQVEsQ0FBQ2pDLFdBQVdZLEdBQUc7WUFFNUQsT0FBT2pDLGtGQUFZQSxDQUFDVSxJQUFJLENBQ3RCO2dCQUFFQyxTQUFTO2dCQUFNQyxNQUFNOEM7WUFBZSxHQUN0QztnQkFBRTdDLFFBQVE7WUFBSTtRQUVsQixPQUFPO1lBQ0wsK0NBQStDO1lBQy9DLE9BQU9iLGtGQUFZQSxDQUFDVSxJQUFJLENBQ3RCO2dCQUFFQyxTQUFTO2dCQUFNQyxNQUFNUztZQUFXLEdBQ2xDO2dCQUFFUixRQUFRO1lBQUk7UUFFbEI7SUFDRixFQUFFLE9BQU9DLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDJCQUEyQkE7UUFDekMsT0FBT2Qsa0ZBQVlBLENBQUNVLElBQUksQ0FDdEI7WUFDRUMsU0FBUztZQUNURyxPQUFPO1lBQ1BzQixTQUFTdEIsTUFBTXFDLE9BQU87UUFDeEIsR0FDQTtZQUFFdEMsUUFBUTtRQUFJO0lBRWxCO0FBQ0Y7QUFJQSwwREFBMEQ7QUFDbkQsZUFBZThDLE1BQU0xQyxHQUFZO0lBQ3RDLElBQUk7UUFDRixNQUFNbEIsNERBQWNBO1FBQ3BCLE1BQU1tQixPQUFPLE1BQU1ELElBQUlQLElBQUk7UUFDM0IsTUFBTSxFQUFFbUMsTUFBTSxFQUFFZSxPQUFPLEVBQUUsR0FBRzFDO1FBRTVCLElBQUksQ0FBQzJCLFVBQVUsQ0FBQ2UsU0FBUztZQUN2QixPQUFPNUQsa0ZBQVlBLENBQUNVLElBQUksQ0FDdEI7Z0JBQUVDLFNBQVM7Z0JBQU9HLE9BQU87WUFBNEIsR0FDckQ7Z0JBQUVELFFBQVE7WUFBSTtRQUVsQjtRQUVBLHNDQUFzQztRQUN0QyxNQUFNaEIsMkRBQVdBLENBQUM0RCxpQkFBaUIsQ0FBQ1osUUFBUWU7UUFFNUMsMkNBQTJDO1FBQzNDLE1BQU1oRSx1REFBT0EsQ0FBQ2lFLFNBQVMsQ0FDckI7WUFBRSxhQUFhaEI7UUFBTyxHQUN0QjtZQUNFaUIsTUFBTUMsT0FBT0MsV0FBVyxDQUN0QkQsT0FBT0UsT0FBTyxDQUFDTCxTQUFTTSxHQUFHLENBQUMsQ0FBQyxDQUFDQyxLQUFLQyxNQUFNLEdBQUs7b0JBQUMsQ0FBQyxRQUFRLEVBQUVELElBQUksQ0FBQztvQkFBRUM7aUJBQU07UUFFM0U7UUFHRixxRkFBcUY7UUFDckYsSUFBSVIsUUFBUWQsVUFBVSxJQUFJYyxRQUFRVCxPQUFPLEVBQUU7WUFDekMsTUFBTXJELDJEQUFXQSxDQUFDK0QsU0FBUyxDQUN6QjtnQkFBRWhCO1lBQU8sR0FDVDtnQkFDRWlCLE1BQU07b0JBQ0osR0FBSUYsUUFBUWQsVUFBVSxJQUFJO3dCQUFFQSxZQUFZYyxRQUFRZCxVQUFVO29CQUFDLENBQUM7b0JBQzVELEdBQUljLFFBQVFULE9BQU8sSUFBSTt3QkFBRUEsU0FBU1MsUUFBUVQsT0FBTztvQkFBQyxDQUFDO2dCQUNyRDtZQUNGO1FBRUo7UUFFQSxPQUFPbkQsa0ZBQVlBLENBQUNVLElBQUksQ0FBQztZQUFFQyxTQUFTO1lBQU13QyxTQUFTO1FBQTRCLEdBQUc7WUFBRXRDLFFBQVE7UUFBSTtJQUNsRyxFQUFFLE9BQU9DLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHdCQUF3QkE7UUFDdEMsT0FBT2Qsa0ZBQVlBLENBQUNVLElBQUksQ0FDdEI7WUFDRUMsU0FBUztZQUNURyxPQUFPO1lBQ1BzQixTQUFTdEIsTUFBTXFDLE9BQU87UUFDeEIsR0FDQTtZQUFFdEMsUUFBUTtRQUFJO0lBRWxCO0FBQ0Y7QUFJQSw0Q0FBNEM7QUFDckMsZUFBZXdELElBQUlwRCxHQUFZO0lBQ3BDLElBQUk7UUFDRixNQUFNbEIsNERBQWNBO1FBQ3BCLE1BQU1tQixPQUFPLE1BQU1ELElBQUlQLElBQUk7UUFDM0IsTUFBTSxFQUFFaUMsU0FBUyxFQUFFaEIsSUFBSSxFQUFFLEdBQUdUO1FBRTVCLElBQUksQ0FBQ3lCLGFBQWEsQ0FBQ2hCLE1BQU07WUFDdkIsT0FBTzNCLGtGQUFZQSxDQUFDVSxJQUFJLENBQ3RCO2dCQUFFQyxTQUFTO2dCQUFPRyxPQUFPO1lBQTRCLEdBQ3JEO2dCQUFFRCxRQUFRO1lBQUk7UUFFbEI7UUFFQSxNQUFNZSxlQUFlLElBQUkzQix1REFBYyxDQUFDNkIsUUFBUTtRQUNoRCxNQUFNQyxXQUFXN0I7UUFFakIsTUFBTThCLGdCQUFnQjtZQUNwQkMsS0FBS0w7WUFDTE0sT0FBT1AsS0FBS08sS0FBSyxJQUFJO1lBQ3JCQyxPQUFPUixLQUFLUSxLQUFLLElBQUk7WUFDckJ0QixRQUFRYyxLQUFLZCxNQUFNLElBQUk7WUFDdkJ1QixTQUFTVCxLQUFLUyxPQUFPLElBQUk7WUFDekJDLFdBQVdWLEtBQUtVLFNBQVMsSUFBSSxJQUFJQyxPQUFPQyxrQkFBa0I7WUFDMURDLFNBQVNiLEtBQUthLE9BQU8sSUFBSSxJQUFJRixPQUFPQyxrQkFBa0I7WUFDdERSLFVBQVVBO1FBQ1o7UUFFQSx3Q0FBd0M7UUFDeEMsTUFBTWxDLDJEQUFXQSxDQUFDeUIsTUFBTSxDQUFDO1lBQ3ZCLEdBQUdVLGFBQWE7WUFDaEJXO1FBQ0Y7UUFFQSwyQ0FBMkM7UUFDM0MsTUFBTS9DLHVEQUFPQSxDQUFDNkQsaUJBQWlCLENBQUNkLFdBQVc7WUFDekMyQixPQUFPO2dCQUFFbkQsT0FBT2E7WUFBYztRQUNoQztRQUVBLDJCQUEyQjtRQUMzQixNQUFNdUMsVUFBVSxNQUFNM0UsdURBQU9BLENBQUMwRCxRQUFRLENBQUNYO1FBQ3ZDLE1BQU1HLGFBQWF5QixTQUFTeEIsV0FBVyxDQUFDLEVBQUUsRUFBRUMsTUFBTTtRQUNsRCxNQUFNQyxXQUFXc0IsU0FBU3JCLGNBQWM7UUFFeEMsTUFBTXBELDJEQUFXQSxDQUFDd0IsTUFBTSxDQUFDO1lBQ3ZCcUI7WUFDQUUsUUFBUWpCO1lBQ1JrQjtZQUNBRztZQUNBRSxTQUFTO1lBQ1RDLE9BQU8sRUFBRTtRQUNYO1FBRUEsT0FBT3BELGtGQUFZQSxDQUFDVSxJQUFJLENBQ3RCO1lBQUVDLFNBQVM7WUFBTXdDLFNBQVM7WUFBMkJOLFFBQVFqQjtRQUFhLEdBQzFFO1lBQUVmLFFBQVE7UUFBSTtJQUVsQixFQUFFLE9BQU9DLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHNCQUFzQkE7UUFDcEMsT0FBT2Qsa0ZBQVlBLENBQUNVLElBQUksQ0FDdEI7WUFBRUMsU0FBUztZQUFPRyxPQUFPO1lBQXNCc0IsU0FBU3RCLE1BQU1xQyxPQUFPO1FBQUMsR0FDdEU7WUFBRXRDLFFBQVE7UUFBSTtJQUVsQjtBQUNGO0FBR0EseUVBQXlFO0FBQ2xFLGVBQWUyRCxPQUFPdkQsR0FBWTtJQUN2QyxJQUFJO1FBQ0YsTUFBTWxCLDREQUFjQTtRQUNwQixNQUFNLEVBQUU4QyxNQUFNLEVBQUVGLFNBQVMsRUFBRSxHQUFHLE1BQU0xQixJQUFJUCxJQUFJO1FBRTVDLElBQUksQ0FBQ21DLFVBQVUsQ0FBQ0YsV0FBVztZQUN6QixPQUFPM0Msa0ZBQVlBLENBQUNVLElBQUksQ0FDdEI7Z0JBQUVDLFNBQVM7Z0JBQU9HLE9BQU87WUFBOEIsR0FDdkQ7Z0JBQUVELFFBQVE7WUFBSTtRQUVsQjtRQUVBLDZDQUE2QztRQUM3QyxNQUFNaEIsMkRBQVdBLENBQUM0RSxpQkFBaUIsQ0FBQzVCO1FBRXBDLHNEQUFzRDtRQUN0RCxNQUFNakQsdURBQU9BLENBQUM2RCxpQkFBaUIsQ0FBQ2QsV0FBVztZQUN6QytCLE9BQU87Z0JBQUV2RCxPQUFPO29CQUFFYyxLQUFLLElBQUloQyx1REFBYyxDQUFDNkIsUUFBUSxDQUFDZTtnQkFBUTtZQUFFO1FBQy9EO1FBRUEscUNBQXFDO1FBQ3JDLE1BQU0vQywyREFBV0EsQ0FBQzZFLFVBQVUsQ0FBQztZQUFFOUI7UUFBTztRQUV0QyxPQUFPN0Msa0ZBQVlBLENBQUNVLElBQUksQ0FDdEI7WUFBRUMsU0FBUztZQUFNd0MsU0FBUztRQUE0QixHQUN0RDtZQUFFdEMsUUFBUTtRQUFJO0lBRWxCLEVBQUUsT0FBT0MsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsd0JBQXdCQTtRQUN0QyxPQUFPZCxrRkFBWUEsQ0FBQ1UsSUFBSSxDQUN0QjtZQUFFQyxTQUFTO1lBQU9HLE9BQU87WUFBeUJzQixTQUFTdEIsTUFBTXFDLE9BQU87UUFBQyxHQUN6RTtZQUFFdEMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92cmlzdG8tbmV4dC8uL2FwcC9hcGkvcHJvamVjdC9yb3V0ZS50c3g/YmYxZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvamVjdCBmcm9tIFwiQC9tb2RlbHMvUHJvamVjdFwiO1xuaW1wb3J0IHByb2plY3RUYXNrIGZyb20gXCJAL21vZGVscy9wcm9qZWN0VGFza1wiO1xuaW1wb3J0IHRhc2tNZXNzYWdlIGZyb20gXCJAL21vZGVscy90YXNrTWVzc2FnZVwiO1xuaW1wb3J0IGNvbm5lY3RNb25nb0RCIGZyb20gXCJAL2NvbmZpZy9kYXRhYmFzZVwiO1xuaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5cbi8vIFV0aWxpdHkgdG8gZ2VuZXJhdGUgYW4gOC1kaWdpdCByYW5kb20gbnVtYmVyIGFzIHN0cmluZ1xuZnVuY3Rpb24gZ2VuZXJhdGU4RGlnaXRJZCgpOiBzdHJpbmcge1xuICByZXR1cm4gTWF0aC5mbG9vcigxMDAwMDAwMCArIE1hdGgucmFuZG9tKCkgKiA5MDAwMDAwMCkudG9TdHJpbmcoKTtcbn1cblxuLy8gR0VUIGFsbCBwcm9qZWN0c1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBjb25uZWN0TW9uZ29EQigpO1xuICAgIGNvbnN0IHByb2plY3RzID0gYXdhaXQgUHJvamVjdC5maW5kKCk7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBwcm9qZWN0cyB9LFxuICAgICAgeyBzdGF0dXM6IDIwMCB9XG4gICAgKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gZmV0Y2ggcHJvamVjdHNcIiB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG4vLyBQT1NUIGEgbmV3IHByb2plY3QgYW5kIGluc2VydCBwcm9qZWN0VGFzayArIHRhc2tNZXNzYWdlIGVudHJpZXNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkge1xuICB0cnkge1xuICAgIGF3YWl0IGNvbm5lY3RNb25nb0RCKCk7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcS5qc29uKCk7XG4gICAgY29uc3QgeyB0YXNrcywgLi4ucHJvamVjdERhdGEgfSA9IGJvZHk7XG5cbiAgICAvLyBGaXJzdCBjcmVhdGUgdGhlIHByb2plY3Qgd2l0aCBlbXB0eSB0YXNrcyBhcnJheVxuICAgIGNvbnN0IG5ld1Byb2plY3QgPSBhd2FpdCBQcm9qZWN0LmNyZWF0ZSh7XG4gICAgICAuLi5wcm9qZWN0RGF0YSxcbiAgICAgIHRhc2tzOiBbXSxcbiAgICB9KTtcblxuICAgIC8vIFByb2Nlc3MgdGFza3MgaWYgdGhleSBleGlzdFxuICAgIGlmIChBcnJheS5pc0FycmF5KHRhc2tzKSAmJiB0YXNrcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBwcm9qZWN0VGFza3MgPSBbXTtcblxuICAgICAgZm9yIChjb25zdCB0YXNrIG9mIHRhc2tzKSB7XG4gICAgICAgIC8vIEdlbmVyYXRlIGEgc2luZ2xlIE1vbmdvREIgT2JqZWN0SWQgdG8gdXNlIGFjcm9zcyBhbGwgcmVsYXRlZCBkb2N1bWVudHNcbiAgICAgICAgY29uc3QgdGFza09iamVjdElkID0gbmV3IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkKCk7XG4gICAgICAgIGNvbnN0IHN0cmluZ0lkID0gZ2VuZXJhdGU4RGlnaXRJZCgpO1xuXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgdGFzayBvYmplY3QgZm9yIGVtYmVkZGluZyBpbiBQcm9qZWN0XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZFRhc2sgPSB7XG4gICAgICAgICAgX2lkOiB0YXNrT2JqZWN0SWQsIC8vIFVzZSB0aGUgc2FtZSBPYmplY3RJZCBoZXJlXG4gICAgICAgICAgdGl0bGU6IHRhc2sudGl0bGUgfHwgXCJcIixcbiAgICAgICAgICBzdGFnZTogdGFzay5zdGFnZSB8fCBcIk5vdCBTdGFydGVkXCIsXG4gICAgICAgICAgc3RhdHVzOiB0YXNrLnN0YXR1cyB8fCBcImN1cnJlbnRcIixcbiAgICAgICAgICBkZXRhaWxzOiB0YXNrLmRldGFpbHMgfHwgXCJcIixcbiAgICAgICAgICBzdGFydERhdGU6IHRhc2suc3RhcnREYXRlIHx8IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCksXG4gICAgICAgICAgZHVlRGF0ZTogdGFzay5kdWVEYXRlIHx8IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCksXG4gICAgICAgICAgc3RyaW5nSWQ6IHN0cmluZ0lkLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEFkZCB0byB0aGUgYXJyYXkgb2YgdGFza3MgdG8gYmUgc2F2ZWQgaW4gdGhlIFByb2plY3RcbiAgICAgICAgcHJvamVjdFRhc2tzLnB1c2goZm9ybWF0dGVkVGFzayk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGEgc2VwYXJhdGUgcHJvamVjdFRhc2sgZG9jdW1lbnQgd2l0aCB0aGUgc2FtZSBPYmplY3RJZFxuICAgICAgICAvLyBJTVBPUlRBTlQ6IFVzZSBpbnNlcnRNYW55IHdpdGggX2lkIGV4cGxpY2l0bHkgc2V0IGluc3RlYWQgb2YgY3JlYXRlKClcbiAgICAgICAgYXdhaXQgcHJvamVjdFRhc2suaW5zZXJ0TWFueShbXG4gICAgICAgICAge1xuICAgICAgICAgICAgX2lkOiB0YXNrT2JqZWN0SWQsIC8vIFNhbWUgT2JqZWN0SWQgYXMgaW4gUHJvamVjdFxuICAgICAgICAgICAgdGl0bGU6IGZvcm1hdHRlZFRhc2sudGl0bGUsXG4gICAgICAgICAgICBzdGFnZTogZm9ybWF0dGVkVGFzay5zdGFnZSxcbiAgICAgICAgICAgIHN0YXR1czogZm9ybWF0dGVkVGFzay5zdGF0dXMsXG4gICAgICAgICAgICBkZXRhaWxzOiBmb3JtYXR0ZWRUYXNrLmRldGFpbHMsXG4gICAgICAgICAgICBzdGFydERhdGU6IGZvcm1hdHRlZFRhc2suc3RhcnREYXRlLFxuICAgICAgICAgICAgZHVlRGF0ZTogZm9ybWF0dGVkVGFzay5kdWVEYXRlLFxuICAgICAgICAgICAgcHJvamVjdElkOiBuZXdQcm9qZWN0Ll9pZCxcbiAgICAgICAgICAgIHN0cmluZ0lkOiBzdHJpbmdJZCxcbiAgICAgICAgICB9LFxuICAgICAgICBdKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIkluc2VydGVkIHByb2plY3RUYXNrIF9pZDpcIiwgdGFza09iamVjdElkLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBhIG1lc3NhZ2UgZG9jdW1lbnQgbGlua2VkIHRvIHRoZSB0YXNrIC0gYWxzbyB1c2UgaW5zZXJ0TWFueVxuICAgICAgICBhd2FpdCB0YXNrTWVzc2FnZS5pbnNlcnRNYW55KFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBwcm9qZWN0SWQ6IG5ld1Byb2plY3QuX2lkLFxuICAgICAgICAgICAgdGFza0lkOiB0YXNrT2JqZWN0SWQsIC8vIFNhbWUgT2JqZWN0SWQgYXMgdGFza1xuICAgICAgICAgICAgYXNzaWduZWVJZDogcHJvamVjdERhdGEuYXNzaWduZWVzPy5bMF0/LmlkIHx8IFwiXCIsXG4gICAgICAgICAgICBzZW5kZXJJZDogcHJvamVjdERhdGEuYXNzaWduZWRCeSB8fCBcIlwiLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJcIixcbiAgICAgICAgICAgIGZpbGVzOiBbXSxcbiAgICAgICAgICB9LFxuICAgICAgICBdKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIkluc2VydGVkIHRhc2tNZXNzYWdlLnRhc2tJZDpcIiwgdGFza09iamVjdElkLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgIC8vIE9wdGlvbmFsIHZlcmlmaWNhdGlvblxuICAgICAgICBjb25zdCBzYXZlZFRhc2sgPSBhd2FpdCBwcm9qZWN0VGFzay5maW5kQnlJZCh0YXNrT2JqZWN0SWQpO1xuICAgICAgICBjb25zdCBzYXZlZE1lc3NhZ2UgPSBhd2FpdCB0YXNrTWVzc2FnZS5maW5kT25lKHtcbiAgICAgICAgICB0YXNrSWQ6IHRhc2tPYmplY3RJZCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHNhdmVkVGFzayAmJiBzYXZlZE1lc3NhZ2UpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlZlcmlmaWNhdGlvbiBzdWNjZXNzZnVsOlwiKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlRhc2sgX2lkOlwiLCBzYXZlZFRhc2suX2lkLnRvU3RyaW5nKCkpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiTWVzc2FnZSB0YXNrSWQ6XCIsIHNhdmVkTWVzc2FnZS50YXNrSWQudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgICAvLyBFbnN1cmUgdGhleSBtYXRjaFxuICAgICAgICAgIGlmIChzYXZlZFRhc2suX2lkLnRvU3RyaW5nKCkgIT09IHNhdmVkTWVzc2FnZS50YXNrSWQudG9TdHJpbmcoKSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVSUk9SOiBJRHMgc3RpbGwgZG9uJ3QgbWF0Y2ghXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNVQ0NFU1M6IElEcyBtYXRjaCBjb3JyZWN0bHkhXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVmVyaWZpY2F0aW9uIGZhaWxlZCAtIGRvY3VtZW50cyBub3QgZm91bmRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHRoZSBwcm9qZWN0IHdpdGggdGhlIHRhc2tzIGFycmF5XG4gICAgICBhd2FpdCBQcm9qZWN0LmZpbmRCeUlkQW5kVXBkYXRlKG5ld1Byb2plY3QuX2lkLCB7IHRhc2tzOiBwcm9qZWN0VGFza3MgfSk7XG5cbiAgICAgIC8vIFJlZnJlc2ggdGhlIHByb2plY3QgZGF0YVxuICAgICAgY29uc3QgdXBkYXRlZFByb2plY3QgPSBhd2FpdCBQcm9qZWN0LmZpbmRCeUlkKG5ld1Byb2plY3QuX2lkKTtcblxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHVwZGF0ZWRQcm9qZWN0IH0sXG4gICAgICAgIHsgc3RhdHVzOiAyMDEgfVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgbm8gdGFza3MsIGp1c3QgcmV0dXJuIHRoZSBjcmVhdGVkIHByb2plY3RcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBuZXdQcm9qZWN0IH0sXG4gICAgICAgIHsgc3RhdHVzOiAyMDEgfVxuICAgICAgKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHByb2plY3Q6XCIsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogXCJGYWlsZWQgdG8gY3JlYXRlIHByb2plY3Qgd2l0aCB0YXNrcyBhbmQgbWVzc2FnZXNcIixcbiAgICAgICAgZGV0YWlsczogZXJyb3IubWVzc2FnZSxcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cblxuXG4vLyBQQVRDSDogdXBkYXRlIGEgdGFzayBpbiBwcm9qZWN0IGFuZCByZWxhdGVkIGNvbGxlY3Rpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUEFUQ0gocmVxOiBSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgY29ubmVjdE1vbmdvREIoKTtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxLmpzb24oKTtcbiAgICBjb25zdCB7IHRhc2tJZCwgdXBkYXRlcyB9ID0gYm9keTtcblxuICAgIGlmICghdGFza0lkIHx8ICF1cGRhdGVzKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk1pc3NpbmcgdGFza0lkIG9yIHVwZGF0ZXNcIiB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gMS4gVXBkYXRlIGluIHByb2plY3RUYXNrIGNvbGxlY3Rpb25cbiAgICBhd2FpdCBwcm9qZWN0VGFzay5maW5kQnlJZEFuZFVwZGF0ZSh0YXNrSWQsIHVwZGF0ZXMpO1xuXG4gICAgLy8gMi4gVXBkYXRlIGVtYmVkZGVkIHRhc2sgaW4gUHJvamVjdC50YXNrc1xuICAgIGF3YWl0IFByb2plY3QudXBkYXRlT25lKFxuICAgICAgeyBcInRhc2tzLl9pZFwiOiB0YXNrSWQgfSxcbiAgICAgIHtcbiAgICAgICAgJHNldDogT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHVwZGF0ZXMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBbYHRhc2tzLiQuJHtrZXl9YCwgdmFsdWVdKVxuICAgICAgICApLFxuICAgICAgfVxuICAgICk7XG5cbiAgICAvLyAzLiAoT3B0aW9uYWwpIFVwZGF0ZSB0YXNrTWVzc2FnZSBpZiBmaWVsZHMgbGlrZSBhc3NpZ25lZUlkIG9yIG1lc3NhZ2UgYXJlIGluY2x1ZGVkXG4gICAgaWYgKHVwZGF0ZXMuYXNzaWduZWVJZCB8fCB1cGRhdGVzLm1lc3NhZ2UpIHtcbiAgICAgIGF3YWl0IHRhc2tNZXNzYWdlLnVwZGF0ZU9uZShcbiAgICAgICAgeyB0YXNrSWQgfSxcbiAgICAgICAge1xuICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgIC4uLih1cGRhdGVzLmFzc2lnbmVlSWQgJiYgeyBhc3NpZ25lZUlkOiB1cGRhdGVzLmFzc2lnbmVlSWQgfSksXG4gICAgICAgICAgICAuLi4odXBkYXRlcy5tZXNzYWdlICYmIHsgbWVzc2FnZTogdXBkYXRlcy5tZXNzYWdlIH0pLFxuICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJUYXNrIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIgfSwgeyBzdGF0dXM6IDIwMCB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgdGFzazpcIiwgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBcIkZhaWxlZCB0byB1cGRhdGUgdGFza1wiLFxuICAgICAgICBkZXRhaWxzOiBlcnJvci5tZXNzYWdlLFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuXG5cbi8vIFBVVDogQWRkIGEgbmV3IHRhc2sgdG8gYSBzcGVjaWZpYyBwcm9qZWN0XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUFVUKHJlcTogUmVxdWVzdCkge1xuICB0cnkge1xuICAgIGF3YWl0IGNvbm5lY3RNb25nb0RCKCk7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcS5qc29uKCk7XG4gICAgY29uc3QgeyBwcm9qZWN0SWQsIHRhc2sgfSA9IGJvZHk7XG5cbiAgICBpZiAoIXByb2plY3RJZCB8fCAhdGFzaykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJNaXNzaW5nIHByb2plY3RJZCBvciB0YXNrXCIgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHRhc2tPYmplY3RJZCA9IG5ldyBtb25nb29zZS5UeXBlcy5PYmplY3RJZCgpO1xuICAgIGNvbnN0IHN0cmluZ0lkID0gZ2VuZXJhdGU4RGlnaXRJZCgpO1xuXG4gICAgY29uc3QgZm9ybWF0dGVkVGFzayA9IHtcbiAgICAgIF9pZDogdGFza09iamVjdElkLFxuICAgICAgdGl0bGU6IHRhc2sudGl0bGUgfHwgXCJcIixcbiAgICAgIHN0YWdlOiB0YXNrLnN0YWdlIHx8IFwiTm90IFN0YXJ0ZWRcIixcbiAgICAgIHN0YXR1czogdGFzay5zdGF0dXMgfHwgXCJjdXJyZW50XCIsXG4gICAgICBkZXRhaWxzOiB0YXNrLmRldGFpbHMgfHwgXCJcIixcbiAgICAgIHN0YXJ0RGF0ZTogdGFzay5zdGFydERhdGUgfHwgbmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKSxcbiAgICAgIGR1ZURhdGU6IHRhc2suZHVlRGF0ZSB8fCBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpLFxuICAgICAgc3RyaW5nSWQ6IHN0cmluZ0lkLFxuICAgIH07XG5cbiAgICAvLyAxLiBJbnNlcnQgaW50byBwcm9qZWN0VGFzayBjb2xsZWN0aW9uXG4gICAgYXdhaXQgcHJvamVjdFRhc2suY3JlYXRlKHtcbiAgICAgIC4uLmZvcm1hdHRlZFRhc2ssXG4gICAgICBwcm9qZWN0SWQsXG4gICAgfSk7XG5cbiAgICAvLyAyLiBBZGQgdG8gUHJvamVjdCdzIGVtYmVkZGVkIHRhc2tzIGFycmF5XG4gICAgYXdhaXQgUHJvamVjdC5maW5kQnlJZEFuZFVwZGF0ZShwcm9qZWN0SWQsIHtcbiAgICAgICRwdXNoOiB7IHRhc2tzOiBmb3JtYXR0ZWRUYXNrIH0sXG4gICAgfSk7XG5cbiAgICAvLyAzLiBBZGQgdGFza01lc3NhZ2UgZW50cnlcbiAgICBjb25zdCBwcm9qZWN0ID0gYXdhaXQgUHJvamVjdC5maW5kQnlJZChwcm9qZWN0SWQpO1xuICAgIGNvbnN0IGFzc2lnbmVlSWQgPSBwcm9qZWN0Py5hc3NpZ25lZXM/LlswXT8uaWQgfHwgXCJcIjtcbiAgICBjb25zdCBzZW5kZXJJZCA9IHByb2plY3Q/LmFzc2lnbmVkQnkgfHwgXCJcIjtcblxuICAgIGF3YWl0IHRhc2tNZXNzYWdlLmNyZWF0ZSh7XG4gICAgICBwcm9qZWN0SWQsXG4gICAgICB0YXNrSWQ6IHRhc2tPYmplY3RJZCxcbiAgICAgIGFzc2lnbmVlSWQsXG4gICAgICBzZW5kZXJJZCxcbiAgICAgIG1lc3NhZ2U6IFwiXCIsXG4gICAgICBmaWxlczogW10sXG4gICAgfSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6IFwiVGFzayBhZGRlZCBzdWNjZXNzZnVsbHlcIiwgdGFza0lkOiB0YXNrT2JqZWN0SWQgfSxcbiAgICAgIHsgc3RhdHVzOiAyMDAgfVxuICAgICk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFkZGluZyB0YXNrOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRmFpbGVkIHRvIGFkZCB0YXNrXCIsIGRldGFpbHM6IGVycm9yLm1lc3NhZ2UgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuXG4vLyBERUxFVEU6IFJlbW92ZSBhIHRhc2sgZnJvbSBwcm9qZWN0VGFzaywgUHJvamVjdC50YXNrcywgYW5kIHRhc2tNZXNzYWdlXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKHJlcTogUmVxdWVzdCkge1xuICB0cnkge1xuICAgIGF3YWl0IGNvbm5lY3RNb25nb0RCKCk7XG4gICAgY29uc3QgeyB0YXNrSWQsIHByb2plY3RJZCB9ID0gYXdhaXQgcmVxLmpzb24oKTtcblxuICAgIGlmICghdGFza0lkIHx8ICFwcm9qZWN0SWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTWlzc2luZyB0YXNrSWQgb3IgcHJvamVjdElkXCIgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIDEuIFJlbW92ZSB0YXNrIGZyb20gcHJvamVjdFRhc2sgY29sbGVjdGlvblxuICAgIGF3YWl0IHByb2plY3RUYXNrLmZpbmRCeUlkQW5kRGVsZXRlKHRhc2tJZCk7XG5cbiAgICAvLyAyLiBSZW1vdmUgdGFzayBmcm9tIGVtYmVkZGVkIHRhc2tzIGFycmF5IGluIFByb2plY3RcbiAgICBhd2FpdCBQcm9qZWN0LmZpbmRCeUlkQW5kVXBkYXRlKHByb2plY3RJZCwge1xuICAgICAgJHB1bGw6IHsgdGFza3M6IHsgX2lkOiBuZXcgbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQodGFza0lkKSB9IH0sXG4gICAgfSk7XG5cbiAgICAvLyAzLiBSZW1vdmUgYXNzb2NpYXRlZCB0YXNrIG1lc3NhZ2VzXG4gICAgYXdhaXQgdGFza01lc3NhZ2UuZGVsZXRlTWFueSh7IHRhc2tJZCB9KTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJUYXNrIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5XCIgfSxcbiAgICAgIHsgc3RhdHVzOiAyMDAgfVxuICAgICk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHRhc2s6XCIsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gZGVsZXRlIHRhc2tcIiwgZGV0YWlsczogZXJyb3IubWVzc2FnZSB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG4iXSwibmFtZXMiOlsiUHJvamVjdCIsInByb2plY3RUYXNrIiwidGFza01lc3NhZ2UiLCJjb25uZWN0TW9uZ29EQiIsIk5leHRSZXNwb25zZSIsIm1vbmdvb3NlIiwiZ2VuZXJhdGU4RGlnaXRJZCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInRvU3RyaW5nIiwiR0VUIiwicHJvamVjdHMiLCJmaW5kIiwianNvbiIsInN1Y2Nlc3MiLCJkYXRhIiwic3RhdHVzIiwiZXJyb3IiLCJjb25zb2xlIiwiUE9TVCIsInJlcSIsImJvZHkiLCJ0YXNrcyIsInByb2plY3REYXRhIiwibmV3UHJvamVjdCIsImNyZWF0ZSIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsInByb2plY3RUYXNrcyIsInRhc2siLCJ0YXNrT2JqZWN0SWQiLCJUeXBlcyIsIk9iamVjdElkIiwic3RyaW5nSWQiLCJmb3JtYXR0ZWRUYXNrIiwiX2lkIiwidGl0bGUiLCJzdGFnZSIsImRldGFpbHMiLCJzdGFydERhdGUiLCJEYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiZHVlRGF0ZSIsInB1c2giLCJpbnNlcnRNYW55IiwicHJvamVjdElkIiwibG9nIiwidGFza0lkIiwiYXNzaWduZWVJZCIsImFzc2lnbmVlcyIsImlkIiwic2VuZGVySWQiLCJhc3NpZ25lZEJ5IiwibWVzc2FnZSIsImZpbGVzIiwic2F2ZWRUYXNrIiwiZmluZEJ5SWQiLCJzYXZlZE1lc3NhZ2UiLCJmaW5kT25lIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJ1cGRhdGVkUHJvamVjdCIsIlBBVENIIiwidXBkYXRlcyIsInVwZGF0ZU9uZSIsIiRzZXQiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsImVudHJpZXMiLCJtYXAiLCJrZXkiLCJ2YWx1ZSIsIlBVVCIsIiRwdXNoIiwicHJvamVjdCIsIkRFTEVURSIsImZpbmRCeUlkQW5kRGVsZXRlIiwiJHB1bGwiLCJkZWxldGVNYW55Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/project/route.tsx\n");

/***/ }),

/***/ "(rsc)/./config/database.js":
/*!****************************!*\
  !*** ./config/database.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst connectDB = async ()=>{\n    if ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().connections)[0].readyState) {\n        return true;\n    }\n    try {\n        await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(process.env.MONGODB_URI);\n        console.log(\"Mongodb connected\");\n        return true;\n    } catch (error) {\n        console.log(error);\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectDB);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9jb25maWcvZGF0YWJhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRWhDLE1BQU1DLFlBQVk7SUFDaEIsSUFBR0QsNkRBQW9CLENBQUMsRUFBRSxDQUFDRyxVQUFVLEVBQUM7UUFDcEMsT0FBTztJQUNUO0lBRUEsSUFBSTtRQUNGLE1BQU1ILHVEQUFnQixDQUFDSyxRQUFRQyxHQUFHLENBQUNDLFdBQVc7UUFDOUNDLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU87SUFDVCxFQUFFLE9BQU9DLE9BQU87UUFDZEYsUUFBUUMsR0FBRyxDQUFDQztJQUNkO0FBQ0Y7QUFFQSxpRUFBZVQsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZyaXN0by1uZXh0Ly4vY29uZmlnL2RhdGFiYXNlLmpzPzY5MmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBjb25uZWN0REIgPSBhc3luYyAoKSA9PiB7XG4gIGlmKG1vbmdvb3NlLmNvbm5lY3Rpb25zWzBdLnJlYWR5U3RhdGUpe1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBhd2FpdCBtb25nb29zZS5jb25uZWN0KHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJKTtcbiAgICBjb25zb2xlLmxvZygnTW9uZ29kYiBjb25uZWN0ZWQnKVxuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3REQjsiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJjb25uZWN0REIiLCJjb25uZWN0aW9ucyIsInJlYWR5U3RhdGUiLCJjb25uZWN0IiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJJIiwiY29uc29sZSIsImxvZyIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./config/database.js\n");

/***/ }),

/***/ "(rsc)/./models/Project.js":
/*!***************************!*\
  !*** ./models/Project.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst TaskSubSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    _id: {\n        type: String,\n        required: true\n    },\n    title: {\n        type: String,\n        required: true\n    },\n    stage: {\n        type: String,\n        required: true\n    },\n    status: {\n        type: String,\n        required: true\n    },\n    details: {\n        type: String\n    },\n    startDate: {\n        type: String,\n        required: true\n    },\n    dueDate: {\n        type: String,\n        required: true\n    }\n}, {\n    _id: false\n} // Disable Mongoose auto ObjectId for embedded subdocuments\n);\nconst projectSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    project: {\n        type: String,\n        required: true\n    },\n    assignees: [\n        {\n            id: {\n                type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n                required: true\n            },\n            name: {\n                type: String,\n                required: true\n            }\n        }\n    ],\n    template: {\n        type: String,\n        required: true\n    },\n    tasks: {\n        type: [\n            TaskSubSchema\n        ],\n        default: []\n    },\n    assignedBy: {\n        type: String,\n        required: true\n    }\n});\nconst Project = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Project || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Project\", projectSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Project);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9tb2RlbHMvUHJvamVjdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsZ0JBQWdCLElBQUlELHdEQUFlLENBQ3ZDO0lBQ0VHLEtBQUs7UUFBRUMsTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQ3BDQyxPQUFPO1FBQUVILE1BQU1DO1FBQVFDLFVBQVU7SUFBSztJQUN0Q0UsT0FBTztRQUFFSixNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDdENHLFFBQVE7UUFBRUwsTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQ3ZDSSxTQUFTO1FBQUVOLE1BQU1DO0lBQU87SUFDeEJNLFdBQVc7UUFBRVAsTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQzFDTSxTQUFTO1FBQUVSLE1BQU1DO1FBQVFDLFVBQVU7SUFBSztBQUMxQyxHQUNBO0lBQUVILEtBQUs7QUFBTSxFQUFFLDJEQUEyRDs7QUFHNUUsTUFBTVUsZ0JBQWdCLElBQUliLHdEQUFlLENBQUM7SUFDeENjLFNBQVM7UUFBRVYsTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQ3hDUyxXQUFXO1FBQ1Q7WUFDRUMsSUFBSTtnQkFBRVosTUFBTUosd0RBQWUsQ0FBQ2lCLEtBQUssQ0FBQ0MsUUFBUTtnQkFBRVosVUFBVTtZQUFLO1lBQzNEYSxNQUFNO2dCQUFFZixNQUFNQztnQkFBUUMsVUFBVTtZQUFLO1FBQ3ZDO0tBQ0Q7SUFDRGMsVUFBVTtRQUFFaEIsTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQ3pDZSxPQUFPO1FBQ0xqQixNQUFNO1lBQUNIO1NBQWM7UUFDckJxQixTQUFTLEVBQUU7SUFDYjtJQUVBQyxZQUFZO1FBQUVuQixNQUFNQztRQUFRQyxVQUFVO0lBQUs7QUFDN0M7QUFFQSxNQUFNa0IsVUFBVXhCLHdEQUFlLENBQUN3QixPQUFPLElBQUl4QixxREFBYyxDQUFDLFdBQVdhO0FBQ3JFLGlFQUFlVyxPQUFPQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnJpc3RvLW5leHQvLi9tb2RlbHMvUHJvamVjdC5qcz9jYjEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5cbmNvbnN0IFRhc2tTdWJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxuICB7XG4gICAgX2lkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSwgLy8gPC0tIEltcG9ydGFudDogc3RyaW5nIF9pZFxuICAgIHRpdGxlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBzdGFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgc3RhdHVzOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBkZXRhaWxzOiB7IHR5cGU6IFN0cmluZyB9LFxuICAgIHN0YXJ0RGF0ZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgZHVlRGF0ZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIH0sXG4gIHsgX2lkOiBmYWxzZSB9IC8vIERpc2FibGUgTW9uZ29vc2UgYXV0byBPYmplY3RJZCBmb3IgZW1iZWRkZWQgc3ViZG9jdW1lbnRzXG4pO1xuXG5jb25zdCBwcm9qZWN0U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIHByb2plY3Q6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBhc3NpZ25lZXM6IFtcbiAgICB7XG4gICAgICBpZDogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB9LFxuICBdLFxuICB0ZW1wbGF0ZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIHRhc2tzOiB7XG4gICAgdHlwZTogW1Rhc2tTdWJTY2hlbWFdLFxuICAgIGRlZmF1bHQ6IFtdLFxuICB9LFxuXG4gIGFzc2lnbmVkQnk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9XG59KTtcblxuY29uc3QgUHJvamVjdCA9IG1vbmdvb3NlLm1vZGVscy5Qcm9qZWN0IHx8IG1vbmdvb3NlLm1vZGVsKCdQcm9qZWN0JywgcHJvamVjdFNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBQcm9qZWN0O1xuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiVGFza1N1YlNjaGVtYSIsIlNjaGVtYSIsIl9pZCIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInRpdGxlIiwic3RhZ2UiLCJzdGF0dXMiLCJkZXRhaWxzIiwic3RhcnREYXRlIiwiZHVlRGF0ZSIsInByb2plY3RTY2hlbWEiLCJwcm9qZWN0IiwiYXNzaWduZWVzIiwiaWQiLCJUeXBlcyIsIk9iamVjdElkIiwibmFtZSIsInRlbXBsYXRlIiwidGFza3MiLCJkZWZhdWx0IiwiYXNzaWduZWRCeSIsIlByb2plY3QiLCJtb2RlbHMiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./models/Project.js\n");

/***/ }),

/***/ "(rsc)/./models/projectTask.js":
/*!*******************************!*\
  !*** ./models/projectTask.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst projectTaskSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    _id: {\n        type: String,\n        required: true\n    },\n    projectId: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: \"Project\"\n    },\n    title: {\n        type: String,\n        required: true\n    },\n    stage: {\n        type: String,\n        required: true\n    },\n    status: {\n        type: String,\n        required: true\n    },\n    description: {\n        type: String\n    },\n    startDate: {\n        type: String\n    },\n    dueDate: {\n        type: String\n    },\n    assigneeId: {\n        type: String\n    }\n});\nconst ProjectTask = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).ProjectTask || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"ProjectTask\", projectTaskSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ProjectTask);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9tb2RlbHMvcHJvamVjdFRhc2suanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRWhDLE1BQU1DLG9CQUFvQixJQUFJRCx3REFBZSxDQUFDO0lBQzVDRyxLQUFLO1FBQUVDLE1BQU1DO1FBQVFDLFVBQVU7SUFBSztJQUNwQ0MsV0FBVztRQUFFSCxNQUFNSix3REFBZSxDQUFDUSxLQUFLLENBQUNDLFFBQVE7UUFBRUMsS0FBSztJQUFVO0lBQ2xFQyxPQUFPO1FBQUVQLE1BQU1DO1FBQVFDLFVBQVU7SUFBSztJQUN0Q00sT0FBTztRQUFFUixNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDdENPLFFBQVE7UUFBRVQsTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQ3ZDUSxhQUFhO1FBQUVWLE1BQU1DO0lBQU87SUFDNUJVLFdBQVc7UUFBRVgsTUFBTUM7SUFBTztJQUMxQlcsU0FBUztRQUFFWixNQUFNQztJQUFPO0lBQ3hCWSxZQUFZO1FBQUViLE1BQU1DO0lBQU87QUFDN0I7QUFFQSxNQUFNYSxjQUFjbEIsd0RBQWUsQ0FBQ2tCLFdBQVcsSUFBSWxCLHFEQUFjLENBQUMsZUFBZUM7QUFDakYsaUVBQWVpQixXQUFXQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnJpc3RvLW5leHQvLi9tb2RlbHMvcHJvamVjdFRhc2suanM/OThkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCBwcm9qZWN0VGFza1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBfaWQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LCAvLyA8LS0gVGhpcyBpcyBlc3NlbnRpYWxcbiAgcHJvamVjdElkOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnUHJvamVjdCcgfSxcbiAgdGl0bGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBzdGFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIHN0YXR1czogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIGRlc2NyaXB0aW9uOiB7IHR5cGU6IFN0cmluZyB9LFxuICBzdGFydERhdGU6IHsgdHlwZTogU3RyaW5nIH0sXG4gIGR1ZURhdGU6IHsgdHlwZTogU3RyaW5nIH0sXG4gIGFzc2lnbmVlSWQ6IHsgdHlwZTogU3RyaW5nIH0sXG59KTtcblxuY29uc3QgUHJvamVjdFRhc2sgPSBtb25nb29zZS5tb2RlbHMuUHJvamVjdFRhc2sgfHwgbW9uZ29vc2UubW9kZWwoJ1Byb2plY3RUYXNrJywgcHJvamVjdFRhc2tTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgUHJvamVjdFRhc2s7XG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJwcm9qZWN0VGFza1NjaGVtYSIsIlNjaGVtYSIsIl9pZCIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInByb2plY3RJZCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ0aXRsZSIsInN0YWdlIiwic3RhdHVzIiwiZGVzY3JpcHRpb24iLCJzdGFydERhdGUiLCJkdWVEYXRlIiwiYXNzaWduZWVJZCIsIlByb2plY3RUYXNrIiwibW9kZWxzIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./models/projectTask.js\n");

/***/ }),

/***/ "(rsc)/./models/taskMessage.js":
/*!*******************************!*\
  !*** ./models/taskMessage.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n// models/taskMessage.ts\n\nconst taskMessageSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    projectId: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: \"Project\"\n    },\n    taskId: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: \"projectTask\"\n    },\n    assigneeId: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: \"User\"\n    },\n    senderId: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: \"User\"\n    },\n    message: {\n        type: String\n    },\n    files: [\n        {\n            type: String\n        }\n    ]\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).taskMessage || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"taskMessage\", taskMessageSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9tb2RlbHMvdGFza01lc3NhZ2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsd0JBQXdCO0FBQ1E7QUFFaEMsTUFBTUMsb0JBQW9CLElBQUlELHdEQUFlLENBQUM7SUFDNUNHLFdBQVc7UUFBRUMsTUFBTUosd0RBQWUsQ0FBQ0ssS0FBSyxDQUFDQyxRQUFRO1FBQUVDLEtBQUs7SUFBVTtJQUNsRUMsUUFBUTtRQUFFSixNQUFNSix3REFBZSxDQUFDSyxLQUFLLENBQUNDLFFBQVE7UUFBRUMsS0FBSztJQUFjO0lBQ25FRSxZQUFZO1FBQUVMLE1BQU1KLHdEQUFlLENBQUNLLEtBQUssQ0FBQ0MsUUFBUTtRQUFFQyxLQUFLO0lBQU87SUFDOURHLFVBQVU7UUFBRU4sTUFBTUosd0RBQWUsQ0FBQ0ssS0FBSyxDQUFDQyxRQUFRO1FBQUVDLEtBQUs7SUFBTztJQUNoRUksU0FBUztRQUFFUCxNQUFNUTtJQUFPO0lBQ3hCQyxPQUFPO1FBQUM7WUFBRVQsTUFBTVE7UUFBTztLQUFFO0FBQzNCO0FBRUEsaUVBQWVaLHdEQUFlLENBQUNlLFdBQVcsSUFBSWYscURBQWMsQ0FBQyxlQUFlQyxrQkFBa0JBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92cmlzdG8tbmV4dC8uL21vZGVscy90YXNrTWVzc2FnZS5qcz8zZWExIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIG1vZGVscy90YXNrTWVzc2FnZS50c1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCB0YXNrTWVzc2FnZVNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBwcm9qZWN0SWQ6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6IFwiUHJvamVjdFwiIH0sXG4gIHRhc2tJZDogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogXCJwcm9qZWN0VGFza1wiIH0sIC8vIE1VU1QgYmUgT2JqZWN0SWRcbiAgYXNzaWduZWVJZDogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1VzZXInIH0sXG4gICAgc2VuZGVySWQ6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdVc2VyJyB9LFxuICBtZXNzYWdlOiB7IHR5cGU6IFN0cmluZyB9LFxuICBmaWxlczogW3sgdHlwZTogU3RyaW5nIH1dLFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVscy50YXNrTWVzc2FnZSB8fCBtb25nb29zZS5tb2RlbChcInRhc2tNZXNzYWdlXCIsIHRhc2tNZXNzYWdlU2NoZW1hKTtcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsInRhc2tNZXNzYWdlU2NoZW1hIiwiU2NoZW1hIiwicHJvamVjdElkIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ0YXNrSWQiLCJhc3NpZ25lZUlkIiwic2VuZGVySWQiLCJtZXNzYWdlIiwiU3RyaW5nIiwiZmlsZXMiLCJtb2RlbHMiLCJ0YXNrTWVzc2FnZSIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./models/taskMessage.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproject%2Froute&page=%2Fapi%2Fproject%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproject%2Froute.tsx&appDir=%2FUsers%2Fparthasarkar%2FTaskManager_last%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fparthasarkar%2FTaskManager_last&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();